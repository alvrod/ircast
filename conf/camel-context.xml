<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:camel="http://camel.apache.org/schema/spring/camel-spring.xsd"
       xsi:schemaLocation="
            http://www.springframework.org/schema/beans     
            http://www.springframework.org/schema/beans/spring-beans.xsd
            http://www.springframework.org/schema/context 
            http://www.springframework.org/schema/context/spring-context.xsd
	        http://camel.apache.org/schema/spring
			http://camel.apache.org/schema/spring/camel-spring.xsd
			"
			>

	<bean id="routes" class="RoutesBean"/>		
	
    <camelContext id="camel" trace="false" xmlns="http://camel.apache.org/schema/spring" streamCache="true">
		<route id="test">
			<from uri="irc:ircast@chat.freenode.net?channels=#uruguay&amp;nickname=ircast&amp;onReply=false&amp;onNick=false&amp;onQuit=false&amp;onJoin=false&amp;onKick=false&amp;onMode=false&amp;onPart=false&amp;onTopic=false"/>
			<bean ref="routes" method="setRoot"/>
			<to uri="file://?fileExist=Append&amp;fileName=${in.header.AppRoot}/${date:now:yyyyMMdd}.txt"/>
		</route>
    </camelContext>

</beans>